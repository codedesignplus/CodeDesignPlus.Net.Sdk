{
  "name": "CodeDesignPlus.Net.Core",
  "$schema": "../../node_modules/nx/schemas/project-schema.json",
  "projectType": "library",
  "sourceRoot": "packages/CodeDesignPlus.Net.Core",
  "targets": {
    "restore": {
      "executor": "nx:run-commands",
      "outputs": [],
      "options": {
        "command": "dotnet restore {projectRoot}/CodeDesignPlus.Net.Core.sln"
      }
    },
    "format": {
      "executor": "nx:run-commands",
      "outputs": [],
      "options": {
        "command": "dotnet format {projectRoot}/CodeDesignPlus.Net.Core.sln"
      }
    },
    "build": {
      "executor": "nx:run-commands",
      "outputs": [],
      "options": {
        "command": "dotnet build {projectRoot}/CodeDesignPlus.Net.Core.sln"
      },
      "configurations": {
        "production": {
          "command": "dotnet build {projectRoot}/CodeDesignPlus.Net.Core.sln --configuration Release"
        }
      }
    },
    "test": {
      "executor": "nx:run-commands",
      "outputs": [],
      "options": {
        "command": "dotnet test {projectRoot}/CodeDesignPlus.Net.Core.sln"
      },
      "configurations": {
        "coverage": {
          "command": "dotnet test {projectRoot}/CodeDesignPlus.Net.Core.sln --configuration Release /p:CollectCoverage=true /p:CoverletOutputFormat=opencover"
        }
      }
    },
    "sonarqube": {
      "executor": "nx:run-commands",
      "outputs": [],
      "options": {
        "args": "--org=codedesignplus --project=CodeDesignPlus.Net.Core ",
        "commands": [
          "dotnet test {projectRoot}/{args.project}.sln /p:CollectCoverage=true /p:CoverletOutputFormat=opencover",
          "dotnet sonarscanner begin /o:{args.org} /k:{args.project} /d:sonar.host.url=http://sonarqube.codedesignplus.com:9000 /d:sonar.coverage.exclusions=\"**/CodeDesignPlus.Net.Serializers/**,**Tests*.cs\" /d:sonar.cs.opencover.reportsPaths={projectRoot}/tests/{args.project}.Test/coverage.opencover.xml /d:sonar.token=sqa_44c22c45e0ee901f36b1d6b446b17ad7be3f589e",
          "dotnet build {projectRoot}/{args.project}.sln",
          "dotnet sonarscanner end /d:sonar.token=sqa_44c22c45e0ee901f36b1d6b446b17ad7be3f589e"
        ],
        "parallel": false
      }
    },
    "pack": {
      "executor": "nx:run-commands",
      "outputs": [],
      "options": {
        "command": "dotnet pack {projectRoot}/CodeDesignPlus.Net.Core.sln --configuration Release /p:IncludeSymbols=true /p:SymbolPackageFormat=snupkg /p:Version={args.version} --output dist/CodeDesignPlus.Net.Core"
      }
    },
    "push": {
      "executor": "nx:run-commands",
      "outputs": [],
      "options": {
        "command": "dotnet nuget push dist/CodeDesignPlus.Net.Core/*.nupkg --source {args.source} --api-key {args.token}"
      }
    }
  }
}
